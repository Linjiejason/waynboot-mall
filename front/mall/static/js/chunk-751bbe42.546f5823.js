(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-751bbe42"],{"20bf":function(t,e,i){},"43ee":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"home-header"},[i("van-button",{staticClass:"search",attrs:{block:"",size:"small"},on:{click:t.onSearch}},[i("span",{staticStyle:{color:"#8e8e8e","margin-right":"6px"}},[i("svg-icon",{attrs:{"icon-class":"search",width:15,height:15}})],1),i("span",[t._v("搜索商品名称")])])],1),i("div",{staticClass:"placeholder"})])},n=[],a={methods:{onSearch:function(){this.$router.push({path:"/search"})},onUser:function(){this.$router.push({path:"/user"})}}},o=a,c=(i("56b7"),i("2877")),r=Object(c["a"])(o,s,n,!1,null,"e268d886",null);e["a"]=r.exports},5328:function(t,e,i){},"568c":function(t,e,i){"use strict";i("6937")},"56b7":function(t,e,i){"use strict";i("9d35")},"61c7":function(t,e,i){"use strict";i("82ff")},6937:function(t,e,i){},"6a6a":function(t,e,i){"use strict";i("9214")},"757e":function(t,e,i){},"7abe":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("Header"),i("Swiper",{attrs:{"banner-list":t.bannerList}}),i("Category",{attrs:{"cate-list":t.cateList}}),i("Session",{attrs:{"session-list":t.sessionList}}),i("Goods-limit",{attrs:{"title-name":"新品上线","goods-list":t.newGoodsList,"is-finished":!0},on:{onReachBottom:t.onReachBottom},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}}),i("Goods-limit",{attrs:{"title-name":"热卖商品","goods-list":t.hotGoodsList,"is-finished":!0},on:{onReachBottom:t.onReachBottom},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}}),i("Goods",{attrs:{"title-name":"为你推荐","goods-list":t.goodsList,"is-finished":t.isFinished},on:{onReachBottom:t.onReachBottom},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}}),i("back-top"),t.isSkeletonShow?i("Skeleton"):t._e()],1)},n=[],a=i("2909"),o=(i("d81d"),i("99af"),i("b775"));function c(t){return Object(o["a"])({url:"/home/goodsList",method:"get",params:t})}function r(t){return Object(o["a"])({url:"/home/index",method:"post",data:t})}var l=i("43ee"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.bannerList,(function(e,s){return i("van-swipe-item",{key:s,on:{click:function(i){return t.onClick(e.jumpUrl)}}},[i("image-pic",{attrs:{width:"100%",height:"150",src:e.imgUrl}})],1)})),1)],1)},d=[],f={props:{bannerList:{type:Array,default:function(){return[]}}},methods:{onClick:function(t){window.location.href=t}}},h=f,m=i("2877"),p=Object(m["a"])(h,u,d,!1,null,null,null),g=p.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-goods"},[i("Title",{staticStyle:{background:"#fff"},attrs:{name:t.titleName}}),i("van-list",{attrs:{finished:t.isFinished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onReachBottom},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("div",{staticClass:"main"},t._l(t.goodsList,(function(e,s){return i("van-card",{key:s,attrs:{desc:e.brief,title:e.name,thumb:e.picUrl,price:t._f("yuan")(e.retailPrice),"origin-price":t._f("yuan")(e.counterPrice)},on:{click:function(i){return t.itemClick(e.id)}}})})),1)])],1)},b=[],_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-title"},[i("span",{staticClass:"line"}),i("span",{staticClass:"text"},[t._v(t._s(t.name))]),i("span",{staticClass:"line"})])},y=[],x={props:{name:{type:String,default:""}}},L=x,C=(i("970e"),Object(m["a"])(L,_,y,!1,null,"0a58cf78",null)),k=C.exports,w={components:{Title:k},model:{prop:"isLoading"},props:{goodsList:{type:Array,default:function(){return[]}},titleName:{type:String,default:""},isLoading:{type:Boolean,default:!1},isFinished:{type:Boolean,default:!1}},computed:{loading:{get:function(){return this.isLoading},set:function(t){this.$emit("input",t)}}},methods:{onReachBottom:function(){this.$emit("onReachBottom")},itemClick:function(t){this.$router.push({path:"/detail/".concat(t)})}}},S=w,$=(i("6a6a"),Object(m["a"])(S,v,b,!1,null,"93d5e26e",null)),j=$.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-goods"},[i("van-cell",{attrs:{title:t.titleName,"is-link":"",to:"index",value:"更多"+t.titleName}}),i("van-list",{attrs:{finished:!0,"immediate-check":!1},on:{load:t.onReachBottom},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("div",{staticClass:"main"},t._l(t.goodsList,(function(t,e){return i("goods-item",{key:e,attrs:{"goods-id":t.id,img:t.picUrl,title:t.name,desc:t.brief,price:t.retailPrice,discount:t.counterPrice}})})),1)])],1)},N=[],B=i("e399"),E={components:{GoodsItem:B["a"]},model:{prop:"isLoading"},props:{goodsList:{type:Array,default:function(){return[]}},titleName:{type:String,default:""},isLoading:{type:Boolean,default:!1}},computed:{loading:{get:function(){return this.isLoading},set:function(t){this.$emit("input",t)}}},methods:{onReachBottom:function(){this.$emit("onReachBottom")}}},O=E,R=(i("964b"),Object(m["a"])(O,G,N,!1,null,"52870f78",null)),H=R.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-category"},[i("div",{ref:"scroll",staticClass:"scroll-wrapper"},[i("div",{staticClass:"scroll-content"},t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"scroll-item__wrapper"},t._l(e,(function(e,s){return i("div",{key:s,staticClass:"scroll-item",on:{click:function(i){return t.onNavigate(e)}}},[i("img",{attrs:{src:e.iconUrl}}),i("p",{staticClass:"text"},[t._v(t._s(e.name))])])})),0)})),0)]),t.list&&t.list.prev&&t.list.prev.length>5?i("div",{staticClass:"dot-wrapper"},[i("div",{staticClass:"dot",style:{transform:"translateX("+t.rate+")"}})]):t._e()])},F=[],I=(i("fb6a"),i("b680"),i("a9e3"),i("d3b7"),i("159b"),i("229e")),U={props:{cateList:{type:Array,default:function(){return[]}}},data:function(){return{rate:0,breakPoint:0}},computed:{list:function(){var t={},e=this.cateList,i=this.cateList.length;if(i<=5)t={prev:e,next:[]};else if(i>5&&i<=10)t={prev:e.slice(0,5),next:e.slice(5)};else{var s=Math.ceil(e.length/2);t={prev:e.slice(0,s),next:e.slice(s)}}return t}},watch:{cateList:function(t){var e=this;t.length>5&&this.$nextTick((function(){e.init()}))}},beforeDestroy:function(){this.bs&&this.bs.destroy()},methods:{onNavigate:function(t){2!==t.jumpType&&this.$router.push({path:"/diamondGoodsList/".concat(t.id)})},init:function(){var t=this;this.bs=new I["a"](this.$refs.scroll,{scrollX:!0,click:!0,probeType:3});var e=Math.abs(this.bs.maxScrollX);this._registerHooks(["scroll"],(function(i){var s=Math.abs(i.x);t.rate="".concat(Number(s/e*100).toFixed(2),"%")}))},_registerHooks:function(t,e){var i=this;t.forEach((function(t){i.bs.on(t,e)}))}}},z=U,A=(i("9a9f"),Object(m["a"])(z,T,F,!1,null,"b6cc05fa",null)),D=A.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-session"},[i("Title",{attrs:{name:"精选专场"}}),i("div",{staticClass:"main"},t._l(t.sessionList,(function(t,e){return i("session-item",{key:e,staticStyle:{"margin-bottom":"10px"},attrs:{img:t.img,title:t.title,tagnum:t.tagnum,discount:t.discount,time:t.time}})})),1)],1)},Z=[],M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"session-item",on:{click:t.onClick}},[i("image-pic",{attrs:{align:"center",width:"100%",height:"160",src:t.img}}),i("div",{staticClass:"title"},[i("span",{staticClass:"title__text"},[t._v(t._s(t.title))]),i("count-down",{attrs:{time:t.time}})],1),i("div",{staticClass:"desc"},[i("van-tag",{attrs:{round:"",type:"success"}},[t._v(t._s(t.tagnum)+"+款上新")]),i("span",{staticClass:"desc__text"},[i("i",[t._v(t._s(t.discount))]),t._v("折起 ")])],1)],1)},X=[],J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-count-down",t._b({scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"item"},[t._v(t._s(t._f("padZero")(e.hours)))]),i("span",{staticClass:"item"},[t._v(t._s(t._f("padZero")(e.minutes)))]),i("span",{staticClass:"item red"},[t._v(t._s(t._f("padZero")(e.seconds)))])]}}])},"van-count-down",t.$attrs,!1))],1)},q=[],K=(i("4d90"),{filters:{padZero:function(t){return"".concat(t).padStart(2,"0")}}}),Q=K,V=(i("61c7"),Object(m["a"])(Q,J,q,!1,null,"155017d5",null)),W=V.exports,Y={components:{CountDown:W},props:{img:{type:String,default:""},title:{type:String,default:""},time:{type:Number,default:0},tagnum:{type:Number,default:100},discount:{type:Number,default:0}},methods:{onClick:function(){this.$router.push({path:"/product/1/1010000",query:{t:+new Date}})}}},tt=Y,et=(i("568c"),Object(m["a"])(tt,M,X,!1,null,"6196634d",null)),it=et.exports,st={components:{Title:k,SessionItem:it},props:{sessionList:{type:Array,default:function(){return[]}}}},nt=st,at=Object(m["a"])(nt,P,Z,!1,null,"0004ea7c",null),ot=at.exports,ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"skeleton"},[i("ContentLoader",{attrs:{width:"325",height:"600"}},[i("rect",{attrs:{x:"10",y:"8",rx:"3",ry:"3",width:"305",height:"30"}}),i("rect",{attrs:{x:"10",y:"45",rx:"3",ry:"3",width:"305",height:"130"}}),i("circle",{attrs:{cx:"35",cy:"210",r:"25"}}),i("circle",{attrs:{cx:"35",cy:"280",r:"25"}}),i("circle",{attrs:{cx:"100",cy:"210",r:"25"}}),i("circle",{attrs:{cx:"100",cy:"280",r:"25"}}),i("circle",{attrs:{cx:"165",cy:"210",r:"25"}}),i("circle",{attrs:{cx:"165",cy:"280",r:"25"}}),i("circle",{attrs:{cx:"230",cy:"210",r:"25"}}),i("circle",{attrs:{cx:"295",cy:"210",r:"25"}}),i("circle",{attrs:{cx:"230",cy:"280",r:"25"}}),i("circle",{attrs:{cx:"295",cy:"280",r:"25"}}),i("rect",{attrs:{x:"100",y:"340",rx:"3",ry:"3",width:"120",height:"20"}}),i("rect",{attrs:{x:"10",y:"370",rx:"3",ry:"3",width:"305",height:"130"}}),i("rect",{attrs:{x:"10",y:"510",rx:"3",ry:"3",width:"305",height:"10"}}),i("rect",{attrs:{x:"10",y:"540",rx:"3",ry:"3",width:"305",height:"10"}}),i("rect",{attrs:{x:"10",y:"570",rx:"3",ry:"3",width:"305",height:"10"}})])],1)},rt=[],lt=i("e3303"),ut={components:{ContentLoader:lt["a"]}},dt=ut,ft=(i("d31e"),Object(m["a"])(dt,ct,rt,!1,null,"79cf4046",null)),ht=ft.exports,mt={name:"Home",components:{Header:l["a"],Swiper:g,Category:D,Session:ot,Goods:j,GoodsLimit:H,Skeleton:ht},data:function(){return{bannerList:[],cateList:[],sessionList:[],newGoodsList:[],hotGoodsList:[],goodsList:[],pageSize:6,pageNum:1,isLoading:!1,isFinished:!1,isSkeletonShow:!0}},mounted:function(){this.getHomeIndexData()},methods:{getHomeIndexData:function(){var t=this;r().then((function(e){var i=e.map;t.bannerList=i.bannerList,t.cateList=i.categoryList,t.sessionList=[{_id:"5f5b1ec83f8b304102b77e8d",img:"https://m.360buyimg.com/babel/s750x300_jfs/t1/96501/1/14812/180805/5e69f6e2E65623863/c40c27c4ec520eef.jpg",title:"头号爆品、新书特卖专场",tagnum:1e3,discount:3,time:1699807149739},{_id:"5f5b1ec83f8b304102b77e90",img:"https://m.360buyimg.com/babel/s1125x450_jfs/t1/98771/1/15620/172104/5e733babEe579fad9/d7d5e51a1f2975e8.jpg",title:"321阅读日、热门专场",tagnum:9999,discount:8,time:1699907149739},{_id:"5f5b1ec83f8b304102b77e93",img:"https://m.360buyimg.com/babel/s1125x450_jfs/t1/85360/22/15634/120107/5e733524E4883f099/c8c92ebd6112a76e.jpg",title:"电影学院，电影书籍专场特卖",tagnum:666,discount:5,time:2699907149739}],t.newGoodsList=i.newGoodsList,t.hotGoodsList=i.hotGoodsList,t.isSkeletonShow=!1,t.getGoodsList()}))},getGoodsList:function(){var t=this;c({pageSize:this.pageSize,pageNum:this.pageNum}).then((function(e){var i=e.map.data;t.goodsList=[].concat(Object(a["a"])(t.goodsList),Object(a["a"])(i)),t.isLoading=!1,i.length<t.pageSize&&t.goodsList.length>0&&(t.isFinished=!0)}))},onReachBottom:function(){this.pageNum+=1,this.getGoodsList()}}},pt=mt,gt=(i("885c"),Object(m["a"])(pt,s,n,!1,null,"04b7aff6",null));e["default"]=gt.exports},8156:function(t,e,i){},"82ff":function(t,e,i){},"885c":function(t,e,i){"use strict";i("8156")},"8cab":function(t,e,i){},9214:function(t,e,i){},"964b":function(t,e,i){"use strict";i("20bf")},"970e":function(t,e,i){"use strict";i("5328")},"9a9f":function(t,e,i){"use strict";i("8cab")},"9d35":function(t,e,i){},c4dd:function(t,e,i){"use strict";i("ed0f")},d31e:function(t,e,i){"use strict";i("757e")},e399:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"goods-item",on:{click:t.onNavigate}},[i("div",{staticClass:"pic"},[i("image-pic",{attrs:{fill:"cover",align:"center",width:"180",height:"180",src:t.img}})],1),i("p",{staticClass:"title"},[t._v(t._s(t.title))]),i("div",{staticClass:"num"},[i("span",{staticClass:"num__now"},[t._v("¥"+t._s(t._f("yuan")(t.price)))]),i("span",{staticClass:"num__old"},[t._v("¥"+t._s(t._f("yuan")(t.discount)))])])])},n=[],a={props:["goodsId","img","title","desc","price","discount"],methods:{onNavigate:function(){this.$router.push({path:"/detail/".concat(this.goodsId)})}}},o=a,c=(i("c4dd"),i("2877")),r=Object(c["a"])(o,s,n,!1,null,"d15835b0",null);e["a"]=r.exports},ed0f:function(t,e,i){}}]);
//# sourceMappingURL=chunk-751bbe42.546f5823.js.map