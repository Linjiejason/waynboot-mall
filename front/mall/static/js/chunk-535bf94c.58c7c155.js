(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-535bf94c"],{"3e83":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav-bar",{attrs:{title:t.$route.meta.title}}),n("van-form",{on:{submit:t.onSubmit}},[n("van-field",{attrs:{label:"新密码",type:"password",placeholder:"请输入新密码",rules:[{required:!0,message:"请填写新密码"}]},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),n("van-field",{attrs:{label:"确认密码",type:"password",placeholder:"请输入确认密码",rules:[{required:!0,message:"请填写确认密码"}]},model:{value:t.form.confirmPassword,callback:function(e){t.$set(t.form,"confirmPassword",e)},expression:"form.confirmPassword"}}),n("van-field",{attrs:{label:"验证码",placeholder:"请输入邮箱验证码",rules:[{required:!0,message:"请填写验证码"}]},model:{value:t.form.emailCode,callback:function(e){t.$set(t.form,"emailCode",e)},expression:"form.emailCode"}},[n("van-button",{attrs:{slot:"button",size:"small",plain:"",type:"info","native-type":"button",disabled:t.disabled},on:{click:function(e){return e.stopPropagation(),t.getMailCode.apply(null,arguments)}},slot:"button"},[t._v(t._s(t.btnText))])],1),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},o=[],a=n("5530"),i=(n("d81d"),n("c24f")),s=n("2f62"),c={data:function(){return{form:{password:"",confirmPassword:"",emailCode:null,emailKey:null},disabled:!1,totalCount:0}},computed:Object(a["a"])(Object(a["a"])({},Object(s["b"])(["userInfo"])),{},{btnText:function(){return 0!==this.totalCount?"".concat(this.totalCount,"秒后获取"):"获取验证码"}}),methods:{onSubmit:function(){var t=this;this.passwordValid()?Object(i["g"])(this.form).then((function(){t.$dialog.alert({message:"保存成功, 请重新登录."}).then((function(){t.$store.dispatch("user/resetToken").then((function(){location.reload()}))}))})):this.$toast.fail("两次密码不一致")},passwordValid:function(){return this.form.password===this.form.confirmPassword},getMailCode:function(){var t=this,e=this.userInfo.email;this.disabled=!0,this.totalCount=60,this.interval=setInterval((function(){t.totalCount--,0===t.totalCount&&(clearInterval(t.interval),t.disabled=!1)}),1e3),Object(i["b"])({email:e}).then((function(e){t.form.emailKey=e.map.key,t.$notify({type:"success",message:"邮箱验证码已发送",duration:2e3})}))}}},l=c,u=(n("bfa6"),n("2877")),f=Object(u["a"])(l,r,o,!1,null,"50718e8c",null);e["default"]=f.exports},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("b64b"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("159b"),n("dbb4");function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},"89c5":function(t,e,n){},b64b:function(t,e,n){var r=n("23e7"),o=n("7b0b"),a=n("df75"),i=n("d039"),s=i((function(){a(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(t){return a(o(t))}})},bfa6:function(t,e,n){"use strict";n("89c5")},dbb4:function(t,e,n){var r=n("23e7"),o=n("83ab"),a=n("56ef"),i=n("fc6a"),s=n("06cf"),c=n("8418");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,n,r=i(t),o=s.f,l=a(r),u={},f=0;while(l.length>f)n=o(r,e=l[f++]),void 0!==n&&c(u,e,n);return u}})},e439:function(t,e,n){var r=n("23e7"),o=n("d039"),a=n("fc6a"),i=n("06cf").f,s=n("83ab"),c=o((function(){i(1)})),l=!s||c;r({target:"Object",stat:!0,forced:l,sham:!s},{getOwnPropertyDescriptor:function(t,e){return i(a(t),e)}})}}]);
//# sourceMappingURL=chunk-535bf94c.58c7c155.js.map