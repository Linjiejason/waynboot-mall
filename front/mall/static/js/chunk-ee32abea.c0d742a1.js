(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee32abea"],{1653:function(e,t,a){"use strict";a("3507")},1676:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"registration"},[a("nav-bar",{attrs:{title:e.$route.meta.title}},[a("van-icon",{attrs:{color:e.variables.black,size:"18"}})],1),a("van-form",{staticClass:"form",attrs:{"validate-trigger":"onSubmit","show-error":!1},on:{submit:e.onSubmit}},[a("van-field",{attrs:{type:"text",required:"",clearable:"",name:"手机号码",label:"手机号码",placeholder:"请输入手机号码",rules:[{validator:e.checkPhone,required:!0,message:"请输入正确的邮箱地址!"}]},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}}),a("van-field",{attrs:{type:"text",required:"",clearable:"",name:"注册邮箱",label:"注册邮箱",placeholder:"请输入邮箱地址",rules:[{validator:e.checkEmail,required:!0,message:"请输入正确的邮箱地址!"}]},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),a("van-field",{attrs:{type:"password",required:"",clearable:"",name:"设置密码",label:"设置密码",placeholder:"请设置密码",rules:[{required:!0,message:"请设置密码!"}]},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),a("van-field",{attrs:{type:"password",required:"",clearable:"",name:"确认密码",label:"确认密码",placeholder:"请再次输入密码确认",rules:[{required:!0,message:"请再次输入密码确认!"}]},model:{value:e.form.confirmPassword,callback:function(t){e.$set(e.form,"confirmPassword",t)},expression:"form.confirmPassword"}}),a("van-field",{attrs:{type:"text",required:"",center:"",clearable:"",name:"邮箱验证码",label:"邮箱验证码",placeholder:"请输入验证码",rules:[{required:!0,message:"请输入正确的邮箱验证码！"}]},model:{value:e.form.emailCode,callback:function(t){e.$set(e.form,"emailCode",t)},expression:"form.emailCode"}},[a("van-button",{attrs:{slot:"button",size:"small",plain:"",type:"info","native-type":"button",disabled:e.disabled},on:{click:function(t){return t.stopPropagation(),e.getMailCode.apply(null,arguments)}},slot:"button"},[e._v(e._s(e.btnText))])],1),a("div",{staticStyle:{margin:"36px"}},[a("van-button",{attrs:{round:"",block:"",loading:e.loading,type:"info","loading-text":"登录中...","native-type":"submit"}},[e._v("注册")])],1)],1)],1)},r=[],n=(a("d81d"),a("ac1f"),a("00b4"),a("d3b7"),a("cf1e")),i=a.n(n),l=a("b775");function s(e){return Object(l["a"])({url:"/sendEmailCode",method:"post",data:e,timeout:2e4})}var c=a("c24f"),u={name:"Regist",data:function(){return{form:{mobile:"",email:"",password:"",confirmPassword:"",emailCode:"",emailKey:"",key:""},disabled:!1,totalCount:0,loading:!1}},computed:{variables:function(){return i.a},btnText:function(){return 0!==this.totalCount?"".concat(this.totalCount,"秒后获取"):"获取验证码"}},mounted:function(){},methods:{getMailCode:function(){var e=this,t=this.form.email;t&&this.checkEmail(t)?(this.disabled=!0,this.totalCount=60,this.interval=setInterval((function(){e.totalCount--,0===e.totalCount&&(clearInterval(e.interval),e.disabled=!1)}),1e3),s({email:t}).then((function(t){e.form.emailKey=t.map.key,e.$notify({type:"success",message:"邮箱验证码已发送",duration:2e3})}))):this.$toast.fail("请先输入正确的邮箱地址")},checkEmail:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},checkPhone:function(e){if(123456789===e)return!0;var t=/^[1][3,4,5,7,8][0-9]{9}$/;return!!t.test(e)},onSubmit:function(){var e=this,t=this.form,a=t.password,o=t.confirmPassword;a===o?(this.loading=!0,Object(c["f"])(this.form).then((function(t){e.$notify({type:"success",message:"注册成功，请登录",duration:2e3,onOpened:function(){e.$router.back()}})})).finally((function(){e.loading=!1}))):this.$toast.fail("确认密码与设置的不一致")}}},d=u,m=(a("1653"),a("2877")),f=Object(m["a"])(d,o,r,!1,null,"4621484d",null);t["default"]=f.exports},3507:function(e,t,a){}}]);
//# sourceMappingURL=chunk-ee32abea.c0d742a1.js.map