(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25a65cf2"],{"0717":function(t,e,r){"use strict";r("5c50")},"0e0c":function(t,e,r){},"162c7":function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-item",on:{click:t.onClick}},[r("image-pic",{attrs:{src:t.img,width:"90",height:"90"}}),r("div",{staticClass:"desc"},[r("div",{staticClass:"desc__top"},[r("h3",{staticClass:"desc__top__title"},[t._v(t._s(t.title))]),r("p",{staticClass:"desc__top__info"},[t._v(t._s(t.desc))])]),r("div",{staticClass:"desc__bottom"},[r("div",{staticClass:"desc__bottom__info"},[r("p",{staticClass:"price"},[r("span",{staticClass:"price--new"},[t._v("¥"+t._s(t.price))]),r("span",{staticClass:"price--old"},[t._v("¥"+t._s(t.discount))])]),r("div",{staticClass:"tag"},[r("van-tag",{attrs:{type:"danger"}},[t._v("自营")])],1),t._m(0)]),r("div",{staticClass:"desc__bottom__btn"},[r("van-button",{staticClass:"btn",attrs:{size:"mini"},on:{click:function(e){return e.stopPropagation(),t.onAddCart.apply(null,arguments)}}},[t._v("加入购物车")])],1)])])],1)},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sale"},[r("span",{staticClass:"commom__num"},[t._v("评论2000+条")]),r("span",{staticClass:"praise__rate"},[t._v("70%好评")])])}],a=r("2166"),o={props:["goodsId","img","title","desc","price","discount","percentage"],methods:{onClick:function(){this.$router.push({path:"/detail/"+this.goodsId})},onAddCart:function(){var t=this;Object(a["b"])({goodsId:this.goodsId,number:1}).then((function(){t.$toast({message:"已添加至购物车",duration:1500}),t.$emit("getCartGoodsCount")}))}}},s=o,c=(r("0717"),r("2877")),u=Object(c["a"])(s,i,n,!1,null,"691289c3",null);e["a"]=u.exports},2166:function(t,e,r){"use strict";r.d(e,"f",(function(){return n})),r.d(e,"e",(function(){return a})),r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return s})),r.d(e,"h",(function(){return c})),r.d(e,"c",(function(){return u})),r.d(e,"d",(function(){return d})),r.d(e,"g",(function(){return l}));r("99af");var i=r("b775");function n(){return Object(i["a"])({url:"/cart/list",method:"get"})}function a(){return Object(i["a"])({url:"/cart/goodsCount",method:"get"})}function o(t){return Object(i["a"])({url:"/cart",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/cart/addDefaultGoodsProduct",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/cart",method:"put",data:t})}function u(t,e){return Object(i["a"])({url:"/cart/changeNum/".concat(t,"/").concat(e),method:"post"})}function d(t){return Object(i["a"])({url:"/cart/"+t,method:"delete"})}function l(){return Object(i["a"])({url:"/cart/getCheckedGoods",method:"post"})}},"267f":function(t,e,r){"use strict";r("0e0c")},"5c50":function(t,e,r){},"92fa":function(t,e){var r=/^(attrs|props|on|nativeOn|class|style|hook)$/;function i(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce((function(t,e){var n,a,o,s,c;for(o in e)if(n=t[o],a=e[o],n&&r.test(o))if("class"===o&&("string"===typeof n&&(c=n,t[o]=n={},n[c]=!0),"string"===typeof a&&(c=a,e[o]=a={},a[c]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(s in a)n[s]=i(n[s],a[s]);else if(Array.isArray(n))t[o]=n.concat(a);else if(Array.isArray(a))t[o]=[n].concat(a);else for(s in a)n[s]=a[s];else t[o]=e[o];return t}),{})}},"99af":function(t,e,r){"use strict";var i=r("23e7"),n=r("da84"),a=r("d039"),o=r("e8b5"),s=r("861d"),c=r("7b0b"),u=r("07fa"),d=r("8418"),l=r("65f0"),f=r("1dde"),p=r("b622"),h=r("2d00"),g=p("isConcatSpreadable"),m=9007199254740991,y="Maximum allowed index exceeded",b=n.TypeError,v=h>=51||!a((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),C=f("concat"),_=function(t){if(!s(t))return!1;var e=t[g];return void 0!==e?!!e:o(t)},x=!v||!C;i({target:"Array",proto:!0,forced:x},{concat:function(t){var e,r,i,n,a,o=c(this),s=l(o,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(a=-1===e?o:arguments[e],_(a)){if(n=u(a),f+n>m)throw b(y);for(r=0;r<n;r++,f++)r in a&&d(s,f,a[r])}else{if(f>=m)throw b(y);d(s,f++,a)}return s.length=f,s}})},e3303:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var i=r("92fa"),n=r.n(i),a=function(){return Math.random().toString(36).substring(2)},o={name:"ContentLoader",functional:!0,props:{width:{type:[Number,String],default:400},height:{type:[Number,String],default:130},speed:{type:Number,default:2},preserveAspectRatio:{type:String,default:"xMidYMid meet"},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},render:function(t,e){var r=e.props,i=e.data,o=e.children,s=r.uniqueKey?r.uniqueKey+"-idClip":a(),c=r.uniqueKey?r.uniqueKey+"-idGradient":a();return t("svg",n()([i,{attrs:{viewBox:"0 0 "+r.width+" "+r.height,version:"1.1",preserveAspectRatio:r.preserveAspectRatio}}]),[t("rect",{style:{fill:"url("+r.baseUrl+"#"+c+")"},attrs:{"clip-path":"url("+r.baseUrl+"#"+s+")",x:"0",y:"0",width:r.width,height:r.height}}),t("defs",[t("clipPath",{attrs:{id:s}},[o||t("rect",{attrs:{x:"0",y:"0",rx:"5",ry:"5",width:r.width,height:r.height}})]),t("linearGradient",{attrs:{id:c}},[t("stop",{attrs:{offset:"0%","stop-color":r.primaryColor,"stop-opacity":r.primaryOpacity}},[r.animate?t("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:r.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"50%","stop-color":r.secondaryColor,"stop-opacity":r.secondaryOpacity}},[r.animate?t("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:r.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"100%","stop-color":r.primaryColor,"stop-opacity":r.primaryOpacity}},[r.animate?t("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:r.speed+"s",repeatCount:"indefinite"}}):null])])])])}}},e6e2:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product"},[r("nav-bar",{attrs:{title:t.category.name}},[r("van-icon",{attrs:{name:"shopping-cart-o",color:t.variables.black,badge:t.count,size:"18"},on:{click:t.cartClick}})],1),r("div",{staticClass:"banner"},[r("image-pic",{attrs:{src:t.category.picUrl,width:"100%",height:"100"}})],1),r("div",{staticClass:"main"},[r("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[r("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,i){return r("product-item",{key:i,staticStyle:{"margin-bottom":"6px"},attrs:{"goods-id":e.id,img:e.picUrl,title:e.name,desc:e.brief,price:e.retailPrice,discount:e.counterPrice},on:{getCartGoodsCount:t.getCartGoodsCount}})})),1)],1)],1),t.isSkeletonShow?r("Skeleton"):t._e()],1)},n=[],a=r("2909"),o=(r("a9e3"),r("d81d"),r("99af"),r("b775"));function s(t){return Object(o["a"])({url:"/category/firstCategoryGoods",method:"get",params:t})}function c(t){return Object(o["a"])({url:"/category/secondCategoryGoods",params:t})}var u=r("2166"),d=r("e590"),l=r("162c7"),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"skeleton"},[r("ContentLoader",{attrs:{width:"325",height:"600"}},[r("rect",{attrs:{x:"10",y:"5",rx:"3",ry:"3",width:"305",height:"30"}}),r("rect",{attrs:{x:"10",y:"42",rx:"3",ry:"3",width:"305",height:"80"}}),r("rect",{attrs:{x:"10",y:"130",rx:"3",ry:"3",width:"305",height:"80"}}),r("rect",{attrs:{x:"10",y:"220",rx:"3",ry:"3",width:"305",height:"80"}}),r("rect",{attrs:{x:"10",y:"310",rx:"3",ry:"3",width:"305",height:"80"}}),r("rect",{attrs:{x:"10",y:"400",rx:"3",ry:"3",width:"305",height:"20"}}),r("rect",{attrs:{x:"60",y:"435",rx:"3",ry:"3",width:"205",height:"10"}}),r("rect",{attrs:{x:"60",y:"460",rx:"3",ry:"3",width:"205",height:"10"}})])],1)},p=[],h=r("e3303"),g={components:{ContentLoader:h["a"]}},m=g,y=(r("fc6b"),r("2877")),b=Object(y["a"])(m,f,p,!1,null,"00d3b4da",null),v=b.exports,C=r("cf1e"),_=r.n(C),x={name:"Product",components:{NavBar:d["a"],ProductItem:l["a"],Skeleton:v},props:{cateId:{type:[String,Number],default:0},categoryLevel:{type:[String,Number],default:""}},data:function(){return{list:[],category:[],initFun:"",count:0,pageNo:1,pageSize:10,loading:!1,finished:!1,refreshing:!1,isSkeletonShow:!0}},computed:{variables:function(){return _.a}},mounted:function(){this.initFun="1"===this.categoryLevel?s:c,this.getProductList(),this.getCartGoodsCount()},methods:{getProductList:function(){var t=this;this.initFun({pageNum:this.pageNo,pageSize:this.pageSize,cateId:this.cateId}).then((function(e){var r=e.map.goods;t.category=e.map.category,t.refreshing?(t.list=r,t.refreshing=!1):(t.list=[].concat(Object(a["a"])(t.list),Object(a["a"])(r)),r.length<t.pageSize&&t.list.length>0&&(t.finished=!0)),t.loading=!1,t.isSkeletonShow=!1}))},getCartGoodsCount:function(){var t=this;Object(u["e"])().then((function(e){var r=e.map.count;t.count=r})).catch((function(t){}))},onLoad:function(){this.loading=!0,this.pageNo+=1,this.getProductList()},onRefresh:function(){this.refreshing=!0,this.pageNo=1,this.getProductList()},cartClick:function(){this.$router.push({name:"Cart"})}}},w=x,k=(r("267f"),Object(y["a"])(w,i,n,!1,null,"1479cbdb",null));e["default"]=k.exports},e8d4:function(t,e,r){},fc6b:function(t,e,r){"use strict";r("e8d4")}}]);
//# sourceMappingURL=chunk-25a65cf2.a09f78f6.js.map